<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="UTF-8">
  <title></title>
  <link media="screen" rel="stylesheet" href="screen.css" type="text/css" />
  <link media="print" rel="stylesheet" href="print.css" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="jquery.ui.core.js"></script>
  <script type="text/javascript" src="jquery.ui.js"></script>
  <script type="text/javascript" src="jquery.ui.widget.js"></script>
  <script type="text/javascript" src="jquery.ui.button.js"></script>
  <script type="text/javascript" src="jquery.ui.spinner.js"></script>

  <script type="text/javascript">

  /**
	  * calculates the costs for a given skill level
	  */
  function skillcost(level) {
    switch(level) {
      case 0: return 0;
      case 1: return 1;
      default: return skillcost (level - 1) + skillcost(level - 2)
    }
  }

  $(document).ready( function() {
  
    // add spinner with sum function
    $('#skillgroups input').spinner({
      min:"0",
      stop: function () {
        var sum = 0.0;
        $('#skillgroups input').each(function(index, it) {
          var value = parseFloat($(it).val())
          var intValue = isNaN(value) ? 0 : value;
          sum = sum + intValue;
        });
      $('#skillgroups legend .sum').html(sum);
      }
    });

    


    $("#skills .edit button").click(function (){
      var nameInput = $("#skills .edit input");
      var skillname = nameInput.val();

      if (skillname == "") {
        nameInput.addClass("error");
        nameInput.attr('title', "Name der Fertigkeit muss mindestens 4 Zeichen lang sein.");
        return;
      }

      
      nameInput.attr('title', "Name der Fertigkeit");
        
      var skilltemplate = $('#skills li.template').clone();
      skilltemplate.find("label").html(skillname)
      skilltemplate.find("input[type=number].value").spinner({
        min: 0
      }); 

      skilltemplate.removeClass('template');
      $('#skills fieldset ul').prepend(skilltemplate);

    });
  });


  </script>

</head>
<body>
  <div id="attributes">
  	<fieldset>
  		<legend>Attribute</legend>
  		<ul>
  			<li>
  				<label for="">Name</label>
  				<input type="text" />
  			</li>
  			<li>
  				<label for="">Spezies</label>
  				<input type="text" />
  			</li>
  			<li>
  				<label for="">Beruf</label>
  				<input type="text" />
  			</li>
  			<li class="experiencepoints">
  				<label for="">Erfahrungspunkte</label>
  				<input type="number" />
  			</li>
  			<li class="reputation">
  				<label for="">Reputation</label>
  				<input type="number" disabled="disabled" />
  			</li>
  		</ul>
  	</fieldset>
  </div>

  <div id="skillgroups">
    <fieldset>
  		<legend>Fertigkeitsgruppen<span class="sum">0</span></legend>
  		<ul>
  			<li>
  				<label for="">Nahkampf</label>
  				<input type="number" />
  			</li>
  			<li>
  				<label for="">Fernkampf</label>
  				<input type="number" />
  			</li>
  			<li>
  				<label for="">Athletik</label>
  				<input type="number" />
  			</li>
  			<li>
  				<label for="">Sozial</label>
  				<input type="number" />
  			</li>
  			<li>
  				<label for="">Wissen</label>
  				<input type="number" />
  			</li>
  			<li>
  				<label for="">Handwerk</label>
  				<input type="number" />
  			</li>
  			<li>
  				<label for="">Willenst&auml;rke</label>
  				<input type="number" />
  			</li>
  			<li>
  				<label for="">Sinne</label>
  				<input type="number" />
  			</li>
  		</ul>
  	</fieldset>
  </div>
  <div id="skills">

  	<fieldset>
      <legend>Fertigkeiten<span class="sum">0</span></legend>
      <ul>
        <li class="template">
          <label for=""></label>
          <input type="number" class="value" />
          <input type="number" class="skillgroup-value" disabled="disabled"/>
        </li>
        <li class="edit">
        	<input type="text" />
          <select id="" name="">
            <option>Nahkampf</option>

            <option>Fernkampf</option>
            <option>Nahkampf</option>
            <option>Athletik</option>
            <option>Sozial</option>
            <option>Wissen</option>
            <option>Handwerk</option>
            <option>Willensst&auml;rke</option>
            <option>Sinne</option>
          </select>
          <button>+</button>
        </li>
  		</ul>
  	</fieldset>
  </div>

</body>
</html>
